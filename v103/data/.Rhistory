# Clear workspace
rm(list = ls())
# Load packages
library(jsonlite)
# Set working directory (change this to yours)
#setwd('/Users/nina/Desktop/magic')
setwd('/Users/neil/Dropbox/Daw_Lab/PreySelection/v103/data')
# Set output paths
outCSVPaths <- c('/Users/neil/Desktop/space_processed_all.csv')
# Load data (this is the output of download_datafiles)
datDump = read.csv('/Users/neil/Desktop/trialdata_all.csv', header = TRUE)
colnames(datDump) <- c("col1", "col2", "col3", "col4")
# Get subject IDs
subjIDs<-unique(datDump$col1)
# Initialize data frames
dodf<-data.frame(stimulus=character(),
rt=numeric(),
reward_mean_stim=numeric(),
stim_left_right=character(),
rank=numeric(),
trial_index_actual=numeric(),
block_index=numeric(),
force_trial=numeric(),
key_press=numeric(),
time_delay_mean_stim=numeric(),
stringsAsFactors=FALSE)
complete_count = 0;
# Loop through subjects
for (i in 1:length(subjIDs) ) {
id = subjIDs[i] # grab ID
subjDump = subset(datDump, col1==id)
# grab trial level JSON, append brackets
# see: https://cran.r-project.org/web/packages/jsonlite/vignettes/json-aaquickstart.html
json<-toString(subjDump$col4)
json<-gsub("}$", "}]", json)
json<-paste("[", json, sep = "")
# turn into dataframe
subjDF<-fromJSON(json)
# dospert
dodf.subj<-subset(subjDF, trial_type=="stim-enter")
if (nrow(dodf.subj) > 0) {
complete_count = complete_count+1; #iterates through subject number
}
shlp <- rep(complete_count,each=length(dodf.subj$trial_index))
dodf.subj<-cbind(shlp,
dodf.subj$stimulus,
dodf.subj$rt,
dodf.subj$reward_mean_stim,
dodf.subj$stim_left_right,
dodf.subj$rank,
dodf.subj$trial_index_actual,
dodf.subj$block_index,
dodf.subj$force_trial,
dodf.subj$key_press,
dodf.subj$time_delay_mean_stim)
dodf<-rbind(dodf,dodf.subj)
}
# Rename columns
colnames(dodf) <- c("subj", "stimulus", "rt", "reward_mean_stim", "stim_left_right", "rank", "trial_index_actual", "block_index", "force_trial", "key_press", "time_delay_mean_stim")
# Save dataframes
write.csv(dodf, outCSVPaths[1], row.names=F)
# Clear workspace
rm(list = ls())
# Load packages
library(jsonlite)
# Set working directory (change this to yours)
#setwd('/Users/nina/Desktop/magic')
setwd('/Users/neil/Dropbox/Daw_Lab/PreySelection/v103/data')
# Set output paths
outCSVPaths <- c('/Users/neil/Desktop/space_processed_all.csv')
# Load data (this is the output of download_datafiles)
datDump = read.csv('/Users/neil/Desktop/trialdata_all.csv', header = TRUE)
colnames(datDump) <- c("col1", "col2", "col3", "col4")
# Get subject IDs
subjIDs<-unique(datDump$col1)
# Initialize data frames
dodf<-data.frame(stimulus=character(),
rt=numeric(),
reward_mean_stim=numeric(),
stim_left_right=character(),
rank=numeric(),
trial_index_actual=numeric(),
block_index=numeric(),
force_trial=numeric(),
key_press=numeric(),
time_delay_mean_stim=numeric(),
stringsAsFactors=FALSE)
complete_count = 0;
# Loop through subjects
for (i in 1:length(subjIDs) ) {
id = subjIDs[i] # grab ID
subjDump = subset(datDump, col1==id)
# grab trial level JSON, append brackets
# see: https://cran.r-project.org/web/packages/jsonlite/vignettes/json-aaquickstart.html
json<-toString(subjDump$col4)
json<-gsub("}$", "}]", json)
json<-paste("[", json, sep = "")
# turn into dataframe
subjDF<-fromJSON(json)
# dospert
dodf.subj<-subset(subjDF, trial_type=="stim-enter")
if (nrow(dodf.subj) > 0) {
complete_count = complete_count+1; #iterates through subject number
}
shlp <- rep(complete_count,each=length(dodf.subj$trial_index))
dodf.subj<-cbind(shlp,
dodf.subj$stimulus,
dodf.subj$rt,
dodf.subj$reward_mean_stim,
dodf.subj$stim_left_right,
dodf.subj$rank,
dodf.subj$trial_index_actual,
dodf.subj$block_index,
dodf.subj$force_trial,
dodf.subj$key_press,
dodf.subj$time_delay_mean_stim)
dodf<-rbind(dodf,dodf.subj)
}
# Rename columns
colnames(dodf) <- c("subj", "stimulus", "rt", "reward_mean_stim", "stim_left_right", "rank", "trial_index_actual", "block_index", "force_trial", "key_press", "time_delay_mean_stim")
# Save dataframes
write.csv(dodf, outCSVPaths[1], row.names=F)
# Clear workspace
rm(list = ls())
# Load packages
library(jsonlite)
# Set working directory (change this to yours)
#setwd('/Users/nina/Desktop/magic')
setwd('/Users/neil/Dropbox/Daw_Lab/PreySelection/v103/data')
# Set output paths
outCSVPaths <- c('/Users/neil/Desktop/space_processed_all.csv')
# Load data (this is the output of download_datafiles)
datDump = read.csv('/Users/neil/Desktop/trialdata.csv', header = TRUE)
colnames(datDump) <- c("col1", "col2", "col3", "col4")
# Get subject IDs
subjIDs<-unique(datDump$col1)
# Initialize data frames
dodf<-data.frame(stimulus=character(),
rt=numeric(),
reward_mean_stim=numeric(),
stim_left_right=character(),
rank=numeric(),
trial_index_actual=numeric(),
block_index=numeric(),
force_trial=numeric(),
key_press=numeric(),
time_delay_mean_stim=numeric(),
stringsAsFactors=FALSE)
complete_count = 0;
# Loop through subjects
for (i in 1:length(subjIDs) ) {
id = subjIDs[i] # grab ID
subjDump = subset(datDump, col1==id)
# grab trial level JSON, append brackets
# see: https://cran.r-project.org/web/packages/jsonlite/vignettes/json-aaquickstart.html
json<-toString(subjDump$col4)
json<-gsub("}$", "}]", json)
json<-paste("[", json, sep = "")
# turn into dataframe
subjDF<-fromJSON(json)
# dospert
dodf.subj<-subset(subjDF, trial_type=="stim-enter")
if (nrow(dodf.subj) > 0) {
complete_count = complete_count+1; #iterates through subject number
}
shlp <- rep(complete_count,each=length(dodf.subj$trial_index))
dodf.subj<-cbind(shlp,
dodf.subj$stimulus,
dodf.subj$rt,
dodf.subj$reward_mean_stim,
dodf.subj$stim_left_right,
dodf.subj$rank,
dodf.subj$trial_index_actual,
dodf.subj$block_index,
dodf.subj$force_trial,
dodf.subj$key_press,
dodf.subj$time_delay_mean_stim)
dodf<-rbind(dodf,dodf.subj)
}
# Rename columns
colnames(dodf) <- c("subj", "stimulus", "rt", "reward_mean_stim", "stim_left_right", "rank", "trial_index_actual", "block_index", "force_trial", "key_press", "time_delay_mean_stim")
# Save dataframes
write.csv(dodf, outCSVPaths[1], row.names=F)
# Clear workspace
rm(list = ls())
# Load packages
library(jsonlite)
# Set working directory (change this to yours)
setwd('/Users/neil/Dropbox/Daw_Lab/PreySelection/v103/data')
# Set output paths
outCSVPaths <- c('/Users/neil/Desktop/missed_responses.csv')
# Load data (this is the output of download_datafiles)
datDump = read.csv('/Users/neil/Desktop/trialdata_all', header = TRUE)
colnames(datDump) <- c("col1", "col2", "col3", "col4")
# Get subject IDs
subjIDs<-unique(datDump$col1)
# Initialize data frames
dodf<-data.frame(trial_index_actual=numeric(),
block_index=numeric(),
stringsAsFactors=FALSE)
complete_count = 0;
# Loop through subjects
for (i in 1:length(subjIDs) ) {
id = subjIDs[i] # grab ID
subjDump = subset(datDump, col1==id)
# grab trial level JSON, append brackets
# see: https://cran.r-project.org/web/packages/jsonlite/vignettes/json-aaquickstart.html
json<-toString(subjDump$col4)
json<-gsub("}$", "}]", json)
json<-paste("[", json, sep = "")
# turn into dataframe
subjDF<-fromJSON(json)
# dospert
dodf.subj<-subset(subjDF, trial_type=="missed-response")
if (nrow(dodf.subj) > 0) {
complete_count = complete_count+1; #iterates through subject number
}
shlp <- rep(complete_count,each=length(dodf.subj$trial_index))
dodf.subj<-cbind(shlp,
dodf.subj$trial_index_actual,
dodf.subj$missed_response_training)
dodf<-rbind(dodf,dodf.subj)
}
# Rename columns
colnames(dodf) <- c("subj", "trial_index_actual")
# Save dataframes
write.csv(dodf, outCSVPaths[1], row.names=F)
# Clear workspace
rm(list = ls())
# Load packages
library(jsonlite)
# Set working directory (change this to yours)
setwd('/Users/neil/Dropbox/Daw_Lab/PreySelection/v103/data')
# Set output paths
outCSVPaths <- c('/Users/neil/Desktop/missed_responses.csv')
# Load data (this is the output of download_datafiles)
datDump = read.csv('/Users/neil/Desktop/trialdata_all', header = TRUE)
colnames(datDump) <- c("col1", "col2", "col3", "col4")
# Get subject IDs
subjIDs<-unique(datDump$col1)
# Initialize data frames
dodf<-data.frame(trial_index_actual=numeric(),
block_index=numeric(),
stringsAsFactors=FALSE)
complete_count = 0;
# Loop through subjects
for (i in 1:length(subjIDs) ) {
id = subjIDs[i] # grab ID
subjDump = subset(datDump, col1==id)
# grab trial level JSON, append brackets
# see: https://cran.r-project.org/web/packages/jsonlite/vignettes/json-aaquickstart.html
json<-toString(subjDump$col4)
json<-gsub("}$", "}]", json)
json<-paste("[", json, sep = "")
# turn into dataframe
subjDF<-fromJSON(json)
# dospert
dodf.subj<-subset(subjDF, trial_type=="missed-response")
if (nrow(dodf.subj) > 0) {
complete_count = complete_count+1; #iterates through subject number
}
shlp <- rep(complete_count,each=length(dodf.subj$trial_index))
dodf.subj<-cbind(shlp,
dodf.subj$trial_index_actual,
dodf.subj$missed_response_training)
dodf<-rbind(dodf,dodf.subj)
}
# Rename columns
colnames(dodf) <- c("subj", "trial_index_actual")
# Save dataframes
write.csv(dodf, outCSVPaths[1], row.names=F)
# Clear workspace
rm(list = ls())
# Load packages
library(jsonlite)
# Set working directory (change this to yours)
setwd('/Users/neil/Dropbox/Daw_Lab/PreySelection/v103/data')
# Set output paths
outCSVPaths <- c('/Users/neil/Desktop/missed_responses.csv')
# Load data (this is the output of download_datafiles)
datDump = read.csv('/Users/neil/Desktop/trialdata_all.csv', header = TRUE)
colnames(datDump) <- c("col1", "col2", "col3", "col4")
# Get subject IDs
subjIDs<-unique(datDump$col1)
# Initialize data frames
dodf<-data.frame(trial_index_actual=numeric(),
block_index=numeric(),
stringsAsFactors=FALSE)
complete_count = 0;
# Loop through subjects
for (i in 1:length(subjIDs) ) {
id = subjIDs[i] # grab ID
subjDump = subset(datDump, col1==id)
# grab trial level JSON, append brackets
# see: https://cran.r-project.org/web/packages/jsonlite/vignettes/json-aaquickstart.html
json<-toString(subjDump$col4)
json<-gsub("}$", "}]", json)
json<-paste("[", json, sep = "")
# turn into dataframe
subjDF<-fromJSON(json)
# dospert
dodf.subj<-subset(subjDF, trial_type=="missed-response")
if (nrow(dodf.subj) > 0) {
complete_count = complete_count+1; #iterates through subject number
}
shlp <- rep(complete_count,each=length(dodf.subj$trial_index))
dodf.subj<-cbind(shlp,
dodf.subj$trial_index_actual,
dodf.subj$missed_response_training)
dodf<-rbind(dodf,dodf.subj)
}
# Rename columns
colnames(dodf) <- c("subj", "trial_index_actual")
# Save dataframes
write.csv(dodf, outCSVPaths[1], row.names=F)
